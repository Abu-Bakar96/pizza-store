{"ast":null,"code":"import _objectSpread from\"/home/admin1/carier week/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{calcTotalPrice}from\"../../utils/calcTotalPrice\";import{getCartFromLS}from\"../../utils/getCartFromLS\";var initialState=getCartFromLS();var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=calcTotalPrice(state.items);},minusItem:function minusItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload;});if(findItem){findItem.count--;}state.totalPrice=calcTotalPrice(state.items);},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});},clearItems:function clearItems(state){state.items=[];state.totalPrice=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItems=_cartSlice$actions.clearItems,minusItem=_cartSlice$actions.minusItem;export{addItem,removeItem,clearItems,minusItem};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","calcTotalPrice","getCartFromLS","initialState","cartSlice","name","reducers","addItem","state","action","findItem","items","find","obj","id","payload","count","push","totalPrice","minusItem","removeItem","filter","clearItems","actions","reducer"],"sources":["/home/admin1/carier week/react-pizza-v2/src/redux/cart/slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { calcTotalPrice } from \"../../utils/calcTotalPrice\";\nimport { getCartFromLS } from \"../../utils/getCartFromLS\";\nimport { CartItem, CartSliceState } from \"./types\";\n\nconst initialState: CartSliceState = getCartFromLS()\n\nconst cartSlice = createSlice({\n    name: 'cart',\n    initialState,\n    reducers: {\n        addItem(state, action: PayloadAction<CartItem>) {\n\n            const findItem = state.items.find(obj => obj.id === action.payload.id)\n            \n            \n            if (findItem) {\n                findItem.count ++\n            } else {\n                state.items.push({\n                    ...action.payload,\n                    count: 1})\n            }\n\n            state.totalPrice = calcTotalPrice(state.items)\n\n\n        },\n        minusItem(state, action: PayloadAction<string>) {\n            const findItem = state.items.find(obj => obj.id === action.payload)\n            if (findItem) {\n                findItem.count--\n            }\n            state.totalPrice = calcTotalPrice(state.items);\n        },\n        removeItem(state, action: PayloadAction<String>) {\n            state.items = state.items.filter((obj) => obj.id !== action.payload)\n        },\n        clearItems(state) {\n            state.items = []\n            state.totalPrice = 0\n        },\n    },\n})\n\nexport const { addItem, removeItem, clearItems, minusItem } = cartSlice.actions\n\nexport default cartSlice.reducer"],"mappings":"4HAAA,OAASA,WAAT,KAA2C,kBAA3C,CACA,OAASC,cAAT,KAA+B,4BAA/B,CACA,OAASC,aAAT,KAA8B,2BAA9B,CAGA,GAAMC,CAAAA,YAA4B,CAAGD,aAAa,EAAlD,CAEA,GAAME,CAAAA,SAAS,CAAGJ,WAAW,CAAC,CAC1BK,IAAI,CAAE,MADoB,CAE1BF,YAAY,CAAZA,YAF0B,CAG1BG,QAAQ,CAAE,CACNC,OADM,kBACEC,KADF,CACSC,MADT,CAC0C,CAE5C,GAAMC,CAAAA,QAAQ,CAAGF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAAP,CAAeD,EAA9B,EAApB,CAAjB,CAGA,GAAIJ,QAAJ,CAAc,CACVA,QAAQ,CAACM,KAAT,GACH,CAFD,IAEO,CACHR,KAAK,CAACG,KAAN,CAAYM,IAAZ,gCACOR,MAAM,CAACM,OADd,MAEIC,KAAK,CAAE,CAFX,IAGH,CAEDR,KAAK,CAACU,UAAN,CAAmBjB,cAAc,CAACO,KAAK,CAACG,KAAP,CAAjC,CAGH,CAjBK,CAkBNQ,SAlBM,oBAkBIX,KAlBJ,CAkBWC,MAlBX,CAkB0C,CAC5C,GAAMC,CAAAA,QAAQ,CAAGF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAAtB,EAApB,CAAjB,CACA,GAAIL,QAAJ,CAAc,CACVA,QAAQ,CAACM,KAAT,GACH,CACDR,KAAK,CAACU,UAAN,CAAmBjB,cAAc,CAACO,KAAK,CAACG,KAAP,CAAjC,CACH,CAxBK,CAyBNS,UAzBM,qBAyBKZ,KAzBL,CAyBYC,MAzBZ,CAyB2C,CAC7CD,KAAK,CAACG,KAAN,CAAcH,KAAK,CAACG,KAAN,CAAYU,MAAZ,CAAmB,SAACR,GAAD,QAASA,CAAAA,GAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAA3B,EAAnB,CAAd,CACH,CA3BK,CA4BNO,UA5BM,qBA4BKd,KA5BL,CA4BY,CACdA,KAAK,CAACG,KAAN,CAAc,EAAd,CACAH,KAAK,CAACU,UAAN,CAAmB,CAAnB,CACH,CA/BK,CAHgB,CAAD,CAA7B,CAsCO,uBAAuDd,SAAS,CAACmB,OAAjE,CAAQhB,OAAR,oBAAQA,OAAR,CAAiBa,UAAjB,oBAAiBA,UAAjB,CAA6BE,UAA7B,oBAA6BA,UAA7B,CAAyCH,SAAzC,oBAAyCA,SAAzC,C,gDAEP,cAAef,CAAAA,SAAS,CAACoB,OAAzB"},"metadata":{},"sourceType":"module"}