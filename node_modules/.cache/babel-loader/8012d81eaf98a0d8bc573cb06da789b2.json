{"ast":null,"code":"import _slicedToArray from\"/home/admin1/carier week/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useDispatch,useSelector}from'react-redux';import{Link}from\"react-router-dom\";import{selectCartItemById}from\"../../redux/cart/selectors\";import{addItem}from\"../../redux/cart/slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typeNames=['тонкое','традиционное'];var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,title=_ref.title,price=_ref.price,imageUrl=_ref.imageUrl,sizes=_ref.sizes,types=_ref.types;var dispatch=useDispatch();var cartItem=useSelector(selectCartItemById(id));var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),activeType=_React$useState2[0],setActiveType=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),activeSize=_React$useState4[0],setactiveSize=_React$useState4[1];var addedCount=cartItem?cartItem.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,type:typeNames[activeType],size:sizes[activeSize],count:0};dispatch(addItem(item));};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/pizza/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:title})]},id),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(typeId){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActiveType(typeId);},className:activeType===typeId?'active':'',children:typeNames[typeId]},typeId);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,i){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setactiveSize(i);},className:activeSize===i?'active':'',children:[size,\" \\u0441\\u043C.\"]},size);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),addedCount>0&&/*#__PURE__*/_jsx(\"i\",{children:addedCount})]})]})]})});};export default PizzaBlock;","map":{"version":3,"names":["React","useDispatch","useSelector","Link","selectCartItemById","addItem","typeNames","PizzaBlock","id","title","price","imageUrl","sizes","types","dispatch","cartItem","useState","activeType","setActiveType","activeSize","setactiveSize","addedCount","count","onClickAdd","item","type","size","map","typeId","i"],"sources":["/home/admin1/carier week/react-pizza-v2/src/components/PizzaBlock/index.tsx"],"sourcesContent":["import React from \"react\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from \"react-router-dom\"\nimport { selectCartItemById } from \"../../redux/cart/selectors\"\nimport { addItem } from \"../../redux/cart/slice\"\nimport { CartItem } from \"../../redux/cart/types\"\n\nconst typeNames = ['тонкое', 'традиционное']\n\ntype PizzaBlockProps = {\n    id: string;\n    title: string; \n    price: number; \n    imageUrl: string; \n    sizes: number[]; \n    types: number[];\n}\n\nconst PizzaBlock: React.FC<PizzaBlockProps> = ({ id, title, price, imageUrl, sizes, types }) => {\n    const dispatch = useDispatch()\n    const cartItem = useSelector(selectCartItemById(id))\n    const [activeType, setActiveType] = React.useState(0)\n    const [activeSize, setactiveSize] = React.useState(0)\n\n    const addedCount = cartItem ? cartItem.count : 0\n\n    const onClickAdd = () => {\n        const item: CartItem = {\n            id,\n            title,\n            price,\n            imageUrl,\n            type: typeNames[activeType],\n            size: sizes[activeSize],\n            count: 0\n        }\n        dispatch(addItem(item))\n    }\n    \n    return (\n        <div className=\"pizza-block-wrapper\">\n            <div className=\"pizza-block\">\n            <Link key={id} to={`/pizza/${id}`}>\n                <img\n                    className=\"pizza-block__image\"\n                    src={imageUrl}\n                    alt=\"Pizza\"\n                />\n                <h4 className=\"pizza-block__title\">{title}</h4>\n            </Link>\n                <div className=\"pizza-block__selector\">\n                    <ul>\n                        {\n                            types.map((typeId) => (\n                                <li\n                                    key={typeId}\n                                    onClick={() => setActiveType(typeId)}\n                                    className={activeType === typeId ? 'active' : ''}>\n                                    {typeNames[typeId]}\n                                </li>\n                            ))\n                        }\n                        {/* <li className=\"active\">тонкое</li>\n                    <li>традиционное</li> */}\n                    </ul>\n                    <ul>\n                        {\n                            sizes.map((size, i) => (\n                                <li\n                                    key={size}\n                                    onClick={() => setactiveSize(i)}\n                                    className={activeSize === i ? 'active' : ''}>\n                                    {size} см.\n                                </li>\n                            ))\n                        }\n                        {/* <li className=\"active\">26 см.</li>\n                    <li>30 см.</li>\n                    <li>40 см.</li> */}\n                    </ul>\n                </div>\n                <div className=\"pizza-block__bottom\">\n                    <div className=\"pizza-block__price\">от {price} ₽</div>\n                    <button onClick={onClickAdd} className=\"button button--outline button--add\">\n                        <svg\n                            width=\"12\"\n                            height=\"12\"\n                            viewBox=\"0 0 12 12\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                        >\n                            <path\n                                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                                fill=\"white\"\n                            />\n                        </svg>\n                        <span>Добавить</span>\n                        {addedCount > 0 && <i>{addedCount}</i>}\n                    </button>\n                </div>\n            </div >\n        </div>\n    )\n}\nexport default PizzaBlock"],"mappings":"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"},"metadata":{},"sourceType":"module"}