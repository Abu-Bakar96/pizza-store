{"ast":null,"code":"import _slicedToArray from\"/home/admin1/carier week/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import debounce from'lodash.debounce';import styles from'./Search.module.scss';import{useDispatch}from'react-redux';import{setSearchValue}from'../../redux/filter/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var dispatch=useDispatch();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var inputRef=React.useRef(null);var onClickClear=function onClickClear(){var _inputRef$current;dispatch(setSearchValue(''));setValue('');(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var updateSearchValue=React.useCallback(debounce(function(str){dispatch(setSearchValue(str));},150),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsxs(\"svg\",{className:styles.icon,xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"title\",{}),/*#__PURE__*/_jsx(\"g\",{\"data-name\":\"Layer 2\",id:\"Layer_2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18,10a8,8,0,1,0-3.1,6.31l6.4,6.4,1.41-1.41-6.4-6.4A8,8,0,0,0,18,10Zm-8,6a6,6,0,1,1,6-6A6,6,0,0,1,10,16Z\"})})]}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:onChangeInput,className:styles.input,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u0438\\u0446\\u0446\\u044B ...\"}),value&&/*#__PURE__*/_jsxs(\"svg\",{onClick:onClickClear,className:styles.clearIcon,viewBox:\"0 0 48 48\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0 0h48v48h-48z\",fill:\"none\"})]})]});};export default Search;","map":{"version":3,"names":["React","debounce","styles","useDispatch","setSearchValue","Search","dispatch","useState","value","setValue","inputRef","useRef","onClickClear","current","focus","updateSearchValue","useCallback","str","onChangeInput","event","target","root","icon","input","clearIcon"],"sources":["/home/admin1/carier week/react-pizza-v2/src/components/Search/index.tsx"],"sourcesContent":["import React from 'react'\nimport debounce from 'lodash.debounce'\nimport styles from './Search.module.scss'\nimport { useDispatch } from 'react-redux'\nimport { setSearchValue } from '../../redux/filter/slice'\n\nconst Search: React.FC= () => {\n    const dispatch = useDispatch()\n    const [value, setValue] = React.useState('')\n    const inputRef = React.useRef<HTMLInputElement>(null)\n\n       \n\n    const onClickClear = () => {\n        dispatch(setSearchValue(''))\n        setValue('')\n        inputRef.current?.focus()\n    }\n\n    const updateSearchValue = React.useCallback(\n        debounce((str: string) => {\n            dispatch(setSearchValue(str))\n        }, 150),\n     [],\n    )\n\n    const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setValue(event.target.value)\n        updateSearchValue(event.target.value)\n     \n    }\n\n    return (\n        <div className={styles.root}>\n            <svg className={styles.icon} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title /><g data-name=\"Layer 2\" id=\"Layer_2\"><path d=\"M18,10a8,8,0,1,0-3.1,6.31l6.4,6.4,1.41-1.41-6.4-6.4A8,8,0,0,0,18,10Zm-8,6a6,6,0,1,1,6-6A6,6,0,0,1,10,16Z\" /></g></svg>\n            <input\n            ref={inputRef} \n            value={value}\n            onChange={onChangeInput}\n            className={styles.input} \n            placeholder='Поиск пиццы ...' />\n            {value && (\n                <svg onClick={onClickClear} className={styles.clearIcon} viewBox=\"0 0 48 48\"  xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z\"/><path d=\"M0 0h48v48h-48z\" fill=\"none\"/></svg>\n                )}\n        </div>\n    )\n}\nexport default Search"],"mappings":"6HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,cAAT,KAA+B,0BAA/B,C,wFAEA,GAAMC,CAAAA,MAAgB,CAAE,QAAlBA,CAAAA,MAAkB,EAAM,CAC1B,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CACA,oBAA0BH,KAAK,CAACO,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,QAAQ,CAAGV,KAAK,CAACW,MAAN,CAA+B,IAA/B,CAAjB,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,uBACvBN,QAAQ,CAACF,cAAc,CAAC,EAAD,CAAf,CAAR,CACAK,QAAQ,CAAC,EAAD,CAAR,CACA,mBAAAC,QAAQ,CAACG,OAAT,8DAAkBC,KAAlB,GACH,CAJD,CAMA,GAAMC,CAAAA,iBAAiB,CAAGf,KAAK,CAACgB,WAAN,CACtBf,QAAQ,CAAC,SAACgB,GAAD,CAAiB,CACtBX,QAAQ,CAACF,cAAc,CAACa,GAAD,CAAf,CAAR,CACH,CAFO,CAEL,GAFK,CADc,CAIzB,EAJyB,CAA1B,CAOA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAgD,CAClEV,QAAQ,CAACU,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAR,CACAO,iBAAiB,CAACI,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAjB,CAEH,CAJD,CAMA,mBACI,aAAK,SAAS,CAAEN,MAAM,CAACmB,IAAvB,wBACI,aAAK,SAAS,CAAEnB,MAAM,CAACoB,IAAvB,CAA6B,KAAK,CAAC,4BAAnC,CAAgE,OAAO,CAAC,WAAxE,wBAAoF,gBAApF,cAA6F,UAAG,YAAU,SAAb,CAAuB,EAAE,CAAC,SAA1B,uBAAoC,aAAM,CAAC,CAAC,0GAAR,EAApC,EAA7F,GADJ,cAEI,cACA,GAAG,CAAEZ,QADL,CAEA,KAAK,CAAEF,KAFP,CAGA,QAAQ,CAAEU,aAHV,CAIA,SAAS,CAAEhB,MAAM,CAACqB,KAJlB,CAKA,WAAW,CAAC,mEALZ,EAFJ,CAQKf,KAAK,eACF,aAAK,OAAO,CAAEI,YAAd,CAA4B,SAAS,CAAEV,MAAM,CAACsB,SAA9C,CAAyD,OAAO,CAAC,WAAjE,CAA8E,KAAK,CAAC,4BAApF,wBACA,aAAM,CAAC,CAAC,yIAAR,EADA,cACmJ,aAAM,CAAC,CAAC,iBAAR,CAA0B,IAAI,CAAC,MAA/B,EADnJ,GATR,GADJ,CAeH,CAzCD,CA0CA,cAAenB,CAAAA,MAAf"},"metadata":{},"sourceType":"module"}