{"ast":null,"code":"import _asyncToGenerator from\"/home/admin1/carier week/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/admin1/carier week/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/admin1/carier week/react-pizza-v2/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import axios from'axios';import{useParams,useNavigate,Link}from'react-router-dom';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FullPizza=function FullPizza(){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),pizza=_React$useState2[0],setPizza=_React$useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();React.useEffect(function(){function fetchPizza(){return _fetchPizza.apply(this,arguments);}function _fetchPizza(){_fetchPizza=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://6298dccebf77b60258227c16.mockapi.io/items/'+id);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPizza(data);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert('Ошибка при получении пиццы!');navigate('/');case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchPizza.apply(this,arguments);}fetchPizza();},[]);if(!pizza){return/*#__PURE__*/_jsx(_Fragment,{children:\" \\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430... \"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:pizza.imageUrl,alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:pizza.title}),/*#__PURE__*/_jsxs(\"h4\",{children:[pizza.price,\" \\u20BD\"]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button button--outline button--add\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})})})]});};export default FullPizza;","map":{"version":3,"names":["React","axios","useParams","useNavigate","Link","FullPizza","useState","pizza","setPizza","id","navigate","useEffect","fetchPizza","get","data","alert","imageUrl","title","price"],"sources":["/home/admin1/carier week/react-pizza-v2/src/pages/FullPizza.tsx"],"sourcesContent":["import React from 'react'\n\nimport axios from 'axios'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\n\nconst FullPizza: React.FC = () => {\n    const [pizza, setPizza] = React.useState<{\n        imageUrl: string,\n        title: string,\n        price: number,\n    }>()\n    const { id } = useParams()\n    const navigate = useNavigate()\n    React.useEffect(() => {\n        async function fetchPizza() {\n            try {\n                const {data} = await axios.get('https://6298dccebf77b60258227c16.mockapi.io/items/' + id)\n                setPizza(data)\n            } catch (error) {\n                alert('Ошибка при получении пиццы!')\n                navigate('/')\n            }\n        }\n        fetchPizza()\n    },[])\n\n    if (!pizza) {\n        return <> Загрузка... </>\n    }\n\n  return (\n    <div className=\"container\">\n        <img src={pizza.imageUrl} alt=\"\" />\n        <h2>{pizza.title}</h2>\n        <h4>{pizza.price} ₽</h4>\n        <Link to=\"/\">\n        <button className=\"button button--outline button--add\">\n            <span>Назад</span>\n        </button>\n        </Link>\n    </div>\n  )\n}\nexport default FullPizza\n\n"],"mappings":"0XAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,WAApB,CAAiCC,IAAjC,KAA6C,kBAA7C,C,6IAEA,GAAMC,CAAAA,SAAmB,CAAG,QAAtBA,CAAAA,SAAsB,EAAM,CAC9B,oBAA0BL,KAAK,CAACM,QAAN,EAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBAKA,eAAeN,SAAS,EAAxB,CAAQO,EAAR,YAAQA,EAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACAH,KAAK,CAACW,SAAN,CAAgB,UAAM,SACHC,CAAAA,UADG,wIAClB,mMAE6BX,CAAAA,KAAK,CAACY,GAAN,CAAU,qDAAuDJ,EAAjE,CAF7B,uCAEeK,IAFf,kBAEeA,IAFf,CAGQN,QAAQ,CAACM,IAAD,CAAR,CAHR,+EAKQC,KAAK,CAAC,6BAAD,CAAL,CACAL,QAAQ,CAAC,GAAD,CAAR,CANR,oEADkB,6CAUlBE,UAAU,GACb,CAXD,CAWE,EAXF,EAaA,GAAI,CAACL,KAAL,CAAY,CACR,mBAAO,kFAAP,CACH,CAEH,mBACE,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,GAAG,CAAEA,KAAK,CAACS,QAAhB,CAA0B,GAAG,CAAC,EAA9B,EADJ,cAEI,oBAAKT,KAAK,CAACU,KAAX,EAFJ,cAGI,sBAAKV,KAAK,CAACW,KAAX,aAHJ,cAII,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACA,eAAQ,SAAS,CAAC,oCAAlB,uBACI,wDADJ,EADA,EAJJ,GADF,CAYD,CArCD,CAsCA,cAAeb,CAAAA,SAAf"},"metadata":{},"sourceType":"module"}